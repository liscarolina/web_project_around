!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)},(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var c=function(){return e=function e(t,n,r,o,i,u,c,a,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._owner=r,this._likes=o,this._handleCardClick=i,this._handleDeleteCard=u,this._handleAddCardLike=c,this._handleDeleteCardLike=a,this._user=l},(t=[{key:"_getTemplate",value:function(){return document.querySelector(".elements__template").content.querySelector(".elements__card").cloneNode(!0)}},{key:"generateCard",value:function(){var e=this;this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".elements__text").textContent=this._name,this._element.querySelector(".elements__image").src=this._link;var t=this._element.querySelector(".elements__button_type_trash"),n=this._element.querySelector(".elements__button_type_like");return this._user._id!==this._owner._id&&t.remove(),this._likes.some((function(t){return t._id===e._user._id}))&&n.classList.add("elements__button_type_like-active"),this._element.querySelector(".elements__counter").textContent=this._likes.length,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__button_type_like").addEventListener("click",(function(){e._handleLikeButtonClick()})),this._element.querySelector(".elements__image").addEventListener("click",(function(){e._handleCardClick()})),this._element.querySelector(".elements__button_type_trash").addEventListener("click",(function(){e._handleDeleteCard(e._element._id,(function(){return e._element.remove}))}))}},{key:"_handleLikeButtonClick",value:function(){var e=this,t=this._element.querySelector(".elements__counter");this._likes.some((function(t){return t._id===e._user._id}))?this._handleDeleteCardLike(this._id).then((function(n){e._likes=n.likes,e._element.querySelector(".elements__button_type_like").classList.remove("elements__button_type_like-active"),t.textContent=e._likes.length})):this._handleAddCardLike(this._id).then((function(n){e._likes=n.likes,e._element.querySelector(".elements__button_type_like").classList.add("elements__button_type_like-active"),t.textContent=e._likes.length}))}},{key:"handleCardRemoval",value:function(){this._element.remove()}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var f=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t},(t=[{key:"enableListeners",value:function(){this.setEventListeners()}},{key:"open",value:function(){var e=this;this._popup.classList.add("popup_opened"),document.addEventListener("keydown",(function(t){e._handleEscClose(t)}))}},{key:"close",value:function(){var e=this;this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",(function(t){e._handleEscClose(t)}))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__button_type_close").addEventListener("click",(function(){e.close()})),this._popup.addEventListener("click",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}function m(e,t,n){return t=_(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e,t,n,r){var o=h(_(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(null,arguments)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e,n){b(t,"open",this,3)([]),this._popup.querySelector(".popup__window-image").src=n,this._popup.querySelector(".popup__window-name").textContent=e}},{key:"setEventListeners",value:function(){var e=this;b(t,"setEventListeners",this,3)([]),this._popup.addEventListener("click",(function(){e.close()}))}}])&&y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(f);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function j(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}function E(e,t,n){return t=L(t),function(e,t){if(t&&("object"==k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,n||[],L(e).constructor):t.apply(e,n))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function O(e,t,n,r){var o=C(L(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(null,arguments)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}var T=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=E(this,t,[e]))._handleSubmitForm=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),n=t,(r=[{key:"_getInputValues",value:function(){var e=this._popup.querySelector(".popup__form"),t=Array.from(e.querySelectorAll(".popup__item")),n={};return t.forEach((function(e){n[e.name]=e.value})),n}},{key:"close",value:function(){O(t,"close",this,3)([]),this._popup.querySelector(".popup__form").reset()}},{key:"setEventListeners",value:function(){var e=this;O(t,"setEventListeners",this,3)([]),this._popup.querySelector(".popup__form").addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues()),e.close()}))}},{key:"renderLoading",value:function(e){this._popup.querySelector(".popup__button_type_send").textContent=e?"Guardando...":"Guardar"}}])&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(f);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function U(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}function x(e,t,n){return t=A(t),function(e,t){if(t&&("object"==I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,D()?Reflect.construct(t,n||[],A(e).constructor):t.apply(e,n))}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(null,arguments)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}var V=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,t,[e]))._popup=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),n=t,r=[{key:"open",value:function(e){var n,r,o;(n=t,r=this,o=B(A(1&3?n.prototype:n),"open",r),function(e){return o.apply(r,e)})([]),this._handleDeleteCard=e}},{key:"setEventListener",value:function(){var e=this;this._popup.querySelector("#delete-button").addEventListener("click",(function(){e._handleDeleteCard()}))}}],r&&R(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(f);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function G(e){var t=function(e){if("object"!=J(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:t+""}var H=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameNode=document.querySelector(t),this._jobNode=document.querySelector(n)},(t=[{key:"getUserInfo",value:function(){return{name:this._nameNode.textContent,job:this._jobNode.textContent}}},{key:"setUserInfo",value:function(e,t){this._nameNode.textContent=e,this._jobNode.textContent=t}}])&&F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function K(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}var Q=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t},t=[{key:"enableValidation",value:function(){this._setEventListeners(this._formElement)}},{key:"_setEventListeners",value:function(e){var t=this,n=Array.from(e.querySelectorAll(".popup__item")),r=e.querySelector(".popup__button_type_send");this._toggleButtonState(n,r),n.forEach((function(o){o.addEventListener("input",(function(i){i.preventDefault(),o.validity.valid?t._hideInputError(e,o):t._showInputError(e,o),t._toggleButtonState(n,r)}))}))}},{key:"_showInputError",value:function(e,t){e.querySelector(".popup__error-".concat(t.name)).textContent=t.validationMessage,t.classList.add("popup__item_invalid")}},{key:"_hideInputError",value:function(e,t){e.querySelector(".popup__error-".concat(t.name)).textContent="",t.classList.remove("popup__item_invalid")}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?t.classList.add("popup__button_type_send-inactive"):t.classList.remove("popup__button_type_send-inactive")}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}}],t&&M(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function Y(e){var t=function(e){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:t+""}var Z=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t,this.headers=n},(t=[{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"changeProfile",value:function(e,t){return fetch("".concat(this.baseUrl,"/users/me/"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"createCard",value:function(e,t){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCardLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addCardLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"changeAvatar",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}}])&&X(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),$=document.querySelector("#edit-button"),ee=document.querySelector("#profile"),te=document.querySelector("#add-button"),ne=document.querySelector("#add-popup"),re=document.querySelector("#avatar-popup"),oe=document.querySelector(".popup__form"),ie=document.querySelector("#add-form"),ue=document.querySelector(".profile__avatar"),ce=new Z("https://around.nomoreparties.co/v1/web-es-cohort-15",{authorization:"260c146d-e463-4081-80f1-261d849484a2","Content-Type":"application/json"}),ae=null,le=new H(".profile__name",".profile__description");ce.getUserInfo().then((function(e){ae=e,le.setUserInfo(e.name,e.about),ue.src=e.avatar,ce.getInitialCards().then((function(e){new r({data:e,renderer:function(e){var t=new c(e.name,e.link,e.owner,e.likes,(function(){se.open(e.name,e.link)}),(function(n,r){fe.open((function(){ce.deleteCard(e._id).then((function(){fe.close(),t.handleCardRemoval()}))}))}),(function(t){return ce.addCardLike(e._id)}),(function(t){return ce.deleteCardLike(e._id)}),ae),n=t.generateCard();document.querySelector(".elements__cards").append(n)}},".elements").renderItems()}))}));var se=new g(document.querySelector("#popup_image"));se.enableListeners();var fe=new V(document.querySelector("#delete-popup"));fe.enableListeners(),fe.setEventListener();var pe=new T(ee,(function(e){var t=e.name,n=e.about;ce.changeProfile(t,n).then((function(e){le.setUserInfo(e.name,e.about)}))}));pe.enableListeners(),$.addEventListener("click",(function(){pe.open(),ee.querySelector(".popup__item_type_name").value=le.getUserInfo().name,ee.querySelector(".popup__item_type_about").value=le.getUserInfo().job}));var ye=new T(re,(function(e){var t=e.link;ce.changeAvatar(t).then((function(e){ue.src=e.avatar}))}));ye.enableListeners(),ue.addEventListener("click",(function(){ye.open(),re.querySelector(".popup__item_type_about").value=ae.avatar}));var de=new T(ne,(function(e){var t=e.place,n=e.link;de.renderLoading(!0),ce.createCard(t,n).then((function(e){var r=new c(t,n,ae,[],(function(){se.open(e.place,e.link)}),(function(t,n){fe.open((function(){ce.deleteCard(e._id).then((function(){fe.close(),r.handleCardRemoval()}))}))}),(function(t){return ce.addCardLike(e._id)}),(function(t){return ce.deleteCardLike(e._id)}),ae);de.renderLoading(!1);var o=r.generateCard();document.querySelector(".elements__cards").prepend(o)}))}));de.enableListeners(),te.addEventListener("click",(function(){de.open()})),new Q(oe).enableValidation(),new Q(ie).enableValidation(),new Q(re).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WVQsTUFDaEIsSUFFQSxJQUFNaUMsR0FBZSxJQUFJeEYsRUFBYzJELElBQVUsU0FBQThCLEdBQXFCLElBQWxCcEMsRUFBS29DLEVBQUxwQyxNQUFPNUcsRUFBSWdKLEVBQUpoSixLQUN6RCtJLEdBQWFFLGVBQWMsR0FDM0I1QixHQUFJNkIsV0FBV3RDLEVBQU81RyxHQUFNc0MsTUFBSyxTQUFDQyxHQUNoQyxJQUFNNEcsRUFBVSxJQUFJckosRUFDbEI4RyxFQUNBNUcsRUFDQXVILEdBQ0EsSUFDQSxXQUNFTSxHQUFXQyxLQUFLdkYsRUFBS3FFLE1BQU9yRSxFQUFLdkMsS0FDbkMsSUFDQSxTQUFDK0gsRUFBSXBHLEdBQ0hxRyxHQUFzQkYsTUFBSyxXQUN6QlQsR0FBSVksV0FBVzFGLEVBQUtiLEtBQUtZLE1BQUssV0FDNUIwRixHQUFzQmpGLFFBQ3RCb0csRUFBUWpCLG1CQUNWLEdBQ0YsR0FDRixJQUNBLFNBQUNILEdBQ0MsT0FBT1YsR0FBSWMsWUFBWTVGLEVBQUtiLElBQzlCLElBQ0EsU0FBQ3FHLEdBQ0MsT0FBT1YsR0FBSWUsZUFBZTdGLEVBQUtiLElBQ2pDLEdBQ0E2RixJQUVGd0IsR0FBYUUsZUFBYyxHQUMzQixJQUFNWixFQUFlYyxFQUFRYixlQUM3QmpKLFNBQVNDLGNBQWMsb0JBQW9COEosUUFBUWYsRUFDckQsR0FDRixJQUVBVSxHQUFhUCxrQkFDYnZCLEdBQVUvRSxpQkFBaUIsU0FBUyxXQUNsQzZHLEdBQWFqQixNQUNmLElBRTZCLElBQUluRCxFQUFjRyxJQUMxQnVFLG1CQUNLLElBQUkxRSxFQUFjeUMsSUFDMUJpQyxtQkFDVSxJQUFJMUUsRUFBY3dDLElBQzFCa0Msa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvY29tcG9uZW50cy9zZWN0aW9uLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL2NvbXBvbmVudHMvcG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL2NvbXBvbmVudHMvdXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9UcmlwbGVUZW4vLi9zcmMvY29tcG9uZW50cy9hcGkuanMiLCJ3ZWJwYWNrOi8vVHJpcGxlVGVuLy4vc3JjL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL1RyaXBsZVRlbi8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBkYXRhO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBuYW1lLFxuICAgIGxpbmssXG4gICAgb3duZXIsXG4gICAgbGlrZXMsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNhcmQsXG4gICAgaGFuZGxlQWRkQ2FyZExpa2UsXG4gICAgaGFuZGxlRGVsZXRlQ2FyZExpa2UsXG4gICAgdXNlclxuICApIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9vd25lciA9IG93bmVyO1xuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICAgIHRoaXMuX2hhbmRsZUFkZENhcmRMaWtlID0gaGFuZGxlQWRkQ2FyZExpa2U7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZExpa2UgPSBoYW5kbGVEZWxldGVDYXJkTGlrZTtcbiAgICB0aGlzLl91c2VyID0gdXNlcjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RlbXBsYXRlXCIpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xuXG4gICAgY29uc3QgdHJhc2hCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5lbGVtZW50c19fYnV0dG9uX3R5cGVfdHJhc2hcIlxuICAgICk7XG5cbiAgICBjb25zdCBsaWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZWxlbWVudHNfX2J1dHRvbl90eXBlX2xpa2VcIlxuICAgICk7XG5cbiAgICBpZiAodGhpcy5fdXNlci5faWQgIT09IHRoaXMuX293bmVyLl9pZCkge1xuICAgICAgdHJhc2hCdXR0b24ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VyLl9pZCkpIHtcbiAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRzX19idXR0b25fdHlwZV9saWtlLWFjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jb3VudGVyXCIpO1xuICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fYnV0dG9uX3R5cGVfbGlrZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b25DbGljaygpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2J1dHRvbl90eXBlX3RyYXNoXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9lbGVtZW50Ll9pZCwgKCkgPT4gdGhpcy5fZWxlbWVudC5yZW1vdmUpO1xuICAgICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ1dHRvbkNsaWNrKCkge1xuICAgIGNvbnN0IGNvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NvdW50ZXJcIik7XG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VyLl9pZCkpIHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRMaWtlKHRoaXMuX2lkKS50aGVuKChjYXJkKSA9PiB7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gY2FyZC5saWtlcztcbiAgICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19idXR0b25fdHlwZV9saWtlXCIpXG4gICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50c19fYnV0dG9uX3R5cGVfbGlrZS1hY3RpdmVcIik7XG4gICAgICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlQWRkQ2FyZExpa2UodGhpcy5faWQpLnRoZW4oKGNhcmQpID0+IHtcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBjYXJkLmxpa2VzO1xuICAgICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2J1dHRvbl90eXBlX2xpa2VcIilcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZChcImVsZW1lbnRzX19idXR0b25fdHlwZV9saWtlLWFjdGl2ZVwiKTtcbiAgICAgICAgY291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNhcmRSZW1vdmFsKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgfVxuXG4gIGVuYWJsZUxpc3RlbmVycygpIHtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoZXZ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoZXZ0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvbl90eXBlX2Nsb3NlXCIpO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vcG9wdXAuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHN1cGVyKHBvcHVwKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHN1cGVyLm9wZW4oKTtcblxuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3dpbmRvdy1pbWFnZVwiKS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3dpbmRvdy1uYW1lXCIpLnRleHRDb250ZW50ID0gbmFtZTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9wb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihQb3B1cCwgaGFuZGxlU3VibWl0Rm9ybSkge1xuICAgIHN1cGVyKFBvcHVwKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICBjb25zdCBmb3JtSXRlbXMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faXRlbVwiKSk7XG4gICAgY29uc3QgZm9ybVZhbHVlcyA9IHt9O1xuICAgIGZvcm1JdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBmb3JtVmFsdWVzW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICBmb3JtLnJlc2V0KCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcbiAgICAgICAgXCIucG9wdXBfX2J1dHRvbl90eXBlX3NlbmRcIlxuICAgICAgKTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIFwiLnBvcHVwX19idXR0b25fdHlwZV9zZW5kXCJcbiAgICAgICk7XG4gICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vcG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHN1cGVyKHBvcHVwKTtcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuICB9XG5cbiAgb3BlbihoYW5kbGVEZWxldGVDYXJkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1idXR0b25cIik7XG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZU5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZU5vZGUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYk5vZGUudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xuICAgIHRoaXMuX25hbWVOb2RlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2JOb2RlLnRleHRDb250ZW50ID0gam9iO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyh0aGlzLl9mb3JtRWxlbWVudCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybVNlbGVjdG9yKSB7XG4gICAgbGV0IGZvcm1JdGVtcyA9IEFycmF5LmZyb20oZm9ybVNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2l0ZW1cIikpO1xuICAgIGxldCBzdWJtaXRCdXR0b25TZWxlY3RvciA9IGZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX2J1dHRvbl90eXBlX3NlbmRcIlxuICAgICk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoZm9ybUl0ZW1zLCBzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgZm9ybUl0ZW1zLmZvckVhY2goKGZvcm1JdGVtKSA9PiB7XG4gICAgICBmb3JtSXRlbS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFmb3JtSXRlbS52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGZvcm1TZWxlY3RvciwgZm9ybUl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1TZWxlY3RvciwgZm9ybUl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGZvcm1JdGVtcywgc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoZm9ybVNlbGVjdG9yLCBmb3JtSXRlbSkge1xuICAgIGxldCBmb3JtRXJyb3IgPSBmb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcbiAgICAgIGAucG9wdXBfX2Vycm9yLSR7Zm9ybUl0ZW0ubmFtZX1gXG4gICAgKTtcbiAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBmb3JtSXRlbS52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBmb3JtSXRlbS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfX2l0ZW1faW52YWxpZFwiKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihmb3JtU2VsZWN0b3IsIGZvcm1JdGVtKSB7XG4gICAgbGV0IGZvcm1FcnJvciA9IGZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC5wb3B1cF9fZXJyb3ItJHtmb3JtSXRlbS5uYW1lfWBcbiAgICApO1xuICAgIGZvcm1FcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZm9ybUl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pdGVtX2ludmFsaWRcIik7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoZm9ybUl0ZW1zLCBzdWJtaXRCdXR0b25TZWxlY3Rvcikge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoZm9ybUl0ZW1zKSkge1xuICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcInBvcHVwX19idXR0b25fdHlwZV9zZW5kLWluYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX2J1dHRvbl90eXBlX3NlbmQtaW5hY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dChmb3JtSXRlbXMpIHtcbiAgICByZXR1cm4gZm9ybUl0ZW1zLnNvbWUoKGZvcm1JdGVtKSA9PiB7XG4gICAgICByZXR1cm4gIWZvcm1JdGVtLnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihiYXNlVXJsLCBoZWFkZXJzKSB7XG4gICAgKHRoaXMuYmFzZVVybCA9IGJhc2VVcmwpLCAodGhpcy5oZWFkZXJzID0gaGVhZGVycyk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBjaGFuZ2VQcm9maWxlKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQocGxhY2UsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IHBsYWNlLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFkZENhcmRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG4gIGNoYW5nZUF2YXRhcihsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogbGluayxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCB7XG4gIGVkaXRCdXR0b24sXG4gIGVkaXRQb3B1cCxcbiAgYWRkQnV0dG9uLFxuICBhZGRQb3B1cCxcbiAgYXZhdGFyUG9wdXAsXG4gIGZvcm1TZWxlY3RvcixcbiAgY2FyZEZvcm0sXG4gIGNhcmRzQ29udGFpbmVyLFxuICBpbml0aWFsQ2FyZHMsXG4gIG5hbWVTZWxlY3RvcixcbiAgam9iU2VsZWN0b3IsXG4gIGF2YXRhcixcbn07XG5cbmxldCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWJ1dHRvblwiKTtcbmxldCBlZGl0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVcIik7XG5sZXQgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtYnV0dG9uXCIpO1xubGV0IGFkZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtcG9wdXBcIik7XG5sZXQgYXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1wb3B1cFwiKTtcbmxldCBmb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xubGV0IGNhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtZm9ybVwiKTtcbmxldCBjYXJkc0NvbnRhaW5lciA9IFwiLmVsZW1lbnRzXCI7XG5jb25zdCBuYW1lU2VsZWN0b3IgPSBcIi5wcm9maWxlX19uYW1lXCI7XG5jb25zdCBqb2JTZWxlY3RvciA9IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCI7XG5jb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcblxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTW9udGHDsWFzIENhbHZhc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlBhcnF1ZSBOYWNpb25hbCBkZSBsYSBWYW5vaXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFnby5qcGdcIixcbiAgfSxcbl07XG4iLCJpbXBvcnQgXCIuL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vY29tcG9uZW50cy9zZWN0aW9uLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jb21wb25lbnRzL2NhcmQuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9jb21wb25lbnRzL3BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi9jb21wb25lbnRzL3BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4vY29tcG9uZW50cy9wb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9jb21wb25lbnRzL3VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4vY29tcG9uZW50cy9hcGkuanNcIjtcblxuaW1wb3J0IHtcbiAgY2FyZHNDb250YWluZXIsXG4gIGVkaXRQb3B1cCxcbiAgYWRkUG9wdXAsXG4gIGVkaXRCdXR0b24sXG4gIGFkZEJ1dHRvbixcbiAgYXZhdGFyUG9wdXAsXG4gIG5hbWVTZWxlY3RvcixcbiAgam9iU2VsZWN0b3IsXG4gIGZvcm1TZWxlY3RvcixcbiAgY2FyZEZvcm0sXG4gIGF2YXRhcixcbn0gZnJvbSBcIi4vY29tcG9uZW50cy9jb25zdGFudHMuanNcIjtcblxuY29uc3QgYXBpID0gbmV3IEFwaShcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViLWVzLWNvaG9ydC0xNVwiLCB7XG4gIGF1dGhvcml6YXRpb246IFwiMjYwYzE0NmQtZTQ2My00MDgxLTgwZjEtMjYxZDg0OTQ4NGEyXCIsXG4gIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxufSk7XG5sZXQgY3VycmVudFVzZXIgPSBudWxsO1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8obmFtZVNlbGVjdG9yLCBqb2JTZWxlY3Rvcik7XG5cbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHVzZXIpID0+IHtcbiAgY3VycmVudFVzZXIgPSB1c2VyO1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyLm5hbWUsIHVzZXIuYWJvdXQpO1xuICBhdmF0YXIuc3JjID0gdXNlci5hdmF0YXI7XG4gIGFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChpbml0aWFsQ2FyZHMpID0+IHtcbiAgICBjb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBkYXRhOiBpbml0aWFsQ2FyZHMsXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICAgICAgICAgIGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIGl0ZW0ubGluayxcbiAgICAgICAgICAgIGl0ZW0ub3duZXIsXG4gICAgICAgICAgICBpdGVtLmxpa2VzLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBwb3B1cEltYWdlLm9wZW4oaXRlbS5uYW1lLCBpdGVtLmxpbmspO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChpZCwgcmVtb3ZlKSA9PiB7XG4gICAgICAgICAgICAgIHBvcHVwV2l0aENvbmZpcm1hdGlvbi5vcGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBhcGkuZGVsZXRlQ2FyZChpdGVtLl9pZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgIGNhcmQuaGFuZGxlQ2FyZFJlbW92YWwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGlkKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBhcGkuYWRkQ2FyZExpa2UoaXRlbS5faWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChpZCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gYXBpLmRlbGV0ZUNhcmRMaWtlKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50VXNlclxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY2FyZFRlbXBsYXRlID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkc1wiKS5hcHBlbmQoY2FyZFRlbXBsYXRlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBjYXJkc0NvbnRhaW5lclxuICAgICk7XG5cbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuICB9KTtcbn0pO1xuXG5jb25zdCBwb3B1cFdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBfaW1hZ2VcIik7XG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwV2luZG93KTtcbnBvcHVwSW1hZ2UuZW5hYmxlTGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwV2l0aENvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLXBvcHVwXCIpXG4pO1xucG9wdXBXaXRoQ29uZmlybWF0aW9uLmVuYWJsZUxpc3RlbmVycygpO1xucG9wdXBXaXRoQ29uZmlybWF0aW9uLnNldEV2ZW50TGlzdGVuZXIoKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oZWRpdFBvcHVwLCAoeyBuYW1lLCBhYm91dCB9KSA9PiB7XG4gIGFwaS5jaGFuZ2VQcm9maWxlKG5hbWUsIGFib3V0KS50aGVuKCh1c2VyKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlci5uYW1lLCB1c2VyLmFib3V0KTtcbiAgfSk7XG59KTtcbnByb2ZpbGVQb3B1cC5lbmFibGVMaXN0ZW5lcnMoKTtcblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xuICBlZGl0UG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faXRlbV90eXBlX25hbWVcIikudmFsdWUgPVxuICAgIHVzZXJJbmZvLmdldFVzZXJJbmZvKCkubmFtZTtcbiAgZWRpdFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2l0ZW1fdHlwZV9hYm91dFwiKS52YWx1ZSA9XG4gICAgdXNlckluZm8uZ2V0VXNlckluZm8oKS5qb2I7XG59KTtcblxuY29uc3QgYXZhdGFyUHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oYXZhdGFyUG9wdXAsICh7IGxpbmsgfSkgPT4ge1xuICBhcGkuY2hhbmdlQXZhdGFyKGxpbmspLnRoZW4oKHVzZXIpID0+IHtcbiAgICBhdmF0YXIuc3JjID0gdXNlci5hdmF0YXI7XG4gIH0pO1xufSk7XG5hdmF0YXJQcm9maWxlUG9wdXAuZW5hYmxlTGlzdGVuZXJzKCk7XG5cbmF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJQcm9maWxlUG9wdXAub3BlbigpO1xuICBhdmF0YXJQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pdGVtX3R5cGVfYWJvdXRcIikudmFsdWUgPVxuICAgIGN1cnJlbnRVc2VyLmF2YXRhcjtcbn0pO1xuXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShhZGRQb3B1cCwgKHsgcGxhY2UsIGxpbmsgfSkgPT4ge1xuICBhZGRDYXJkUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpLmNyZWF0ZUNhcmQocGxhY2UsIGxpbmspLnRoZW4oKGNhcmQpID0+IHtcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXG4gICAgICBwbGFjZSxcbiAgICAgIGxpbmssXG4gICAgICBjdXJyZW50VXNlcixcbiAgICAgIFtdLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBwb3B1cEltYWdlLm9wZW4oY2FyZC5wbGFjZSwgY2FyZC5saW5rKTtcbiAgICAgIH0sXG4gICAgICAoaWQsIHJlbW92ZSkgPT4ge1xuICAgICAgICBwb3B1cFdpdGhDb25maXJtYXRpb24ub3BlbigoKSA9PiB7XG4gICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5faWQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcG9wdXBXaXRoQ29uZmlybWF0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICBuZXdDYXJkLmhhbmRsZUNhcmRSZW1vdmFsKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIChpZCkgPT4ge1xuICAgICAgICByZXR1cm4gYXBpLmFkZENhcmRMaWtlKGNhcmQuX2lkKTtcbiAgICAgIH0sXG4gICAgICAoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFwaS5kZWxldGVDYXJkTGlrZShjYXJkLl9pZCk7XG4gICAgICB9LFxuICAgICAgY3VycmVudFVzZXJcbiAgICApO1xuICAgIGFkZENhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmRzXCIpLnByZXBlbmQoY2FyZFRlbXBsYXRlKTtcbiAgfSk7XG59KTtcblxuYWRkQ2FyZFBvcHVwLmVuYWJsZUxpc3RlbmVycygpO1xuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XG59KTtcblxuY29uc3QgZm9ybVZhbGlkYXRvclByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2VsZWN0b3IpO1xuZm9ybVZhbGlkYXRvclByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgZm9ybVZhbGlkYXRvckNhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihjYXJkRm9ybSk7XG5mb3JtVmFsaWRhdG9yQ2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCBmb3JtVmFsaWRhdG9yQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoYXZhdGFyUG9wdXApO1xuZm9ybVZhbGlkYXRvckF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iXSwibmFtZXMiOlsiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsImRhdGEiLCJyZW5kZXJlciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJrZXkiLCJ2YWx1ZSIsIl90aGlzIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwiQ2FyZCIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJsaWtlcyIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJoYW5kbGVBZGRDYXJkTGlrZSIsImhhbmRsZURlbGV0ZUNhcmRMaWtlIiwidXNlciIsIl9uYW1lIiwiX2xpbmsiLCJfb3duZXIiLCJfbGlrZXMiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGxlQWRkQ2FyZExpa2UiLCJfaGFuZGxlRGVsZXRlQ2FyZExpa2UiLCJfdXNlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInRleHRDb250ZW50Iiwic3JjIiwidHJhc2hCdXR0b24iLCJsaWtlQnV0dG9uIiwiX2lkIiwicmVtb3ZlIiwic29tZSIsImxpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJsZW5ndGgiLCJfdGhpczIiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b25DbGljayIsIl90aGlzMyIsImNvdW50ZXIiLCJ0aGVuIiwiY2FyZCIsIlBvcHVwIiwicG9wdXAiLCJfcG9wdXAiLCJzZXRFdmVudExpc3RlbmVycyIsImV2dCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfY2FsbFN1cGVyIiwiX2luaGVyaXRzIiwiX3N1cGVyUHJvcEdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXRGb3JtIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJmb3JtIiwiZm9ybUl0ZW1zIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1WYWx1ZXMiLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiaXNMb2FkaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX25hbWVOb2RlIiwiX2pvYk5vZGUiLCJqb2IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJmb3JtU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvcm1JdGVtIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImNvbmNhdCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInBsYWNlIiwiY2FyZElkIiwiYXZhdGFyIiwiZWRpdEJ1dHRvbiIsImVkaXRQb3B1cCIsImFkZEJ1dHRvbiIsImFkZFBvcHVwIiwiYXZhdGFyUG9wdXAiLCJjYXJkRm9ybSIsImFwaSIsImF1dGhvcml6YXRpb24iLCJjdXJyZW50VXNlciIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImluaXRpYWxDYXJkcyIsInBvcHVwSW1hZ2UiLCJvcGVuIiwiaWQiLCJwb3B1cFdpdGhDb25maXJtYXRpb24iLCJkZWxldGVDYXJkIiwiaGFuZGxlQ2FyZFJlbW92YWwiLCJhZGRDYXJkTGlrZSIsImRlbGV0ZUNhcmRMaWtlIiwiY2FyZFRlbXBsYXRlIiwiZ2VuZXJhdGVDYXJkIiwicmVuZGVySXRlbXMiLCJlbmFibGVMaXN0ZW5lcnMiLCJzZXRFdmVudExpc3RlbmVyIiwicHJvZmlsZVBvcHVwIiwiY2hhbmdlUHJvZmlsZSIsImF2YXRhclByb2ZpbGVQb3B1cCIsIl9yZWYyIiwiY2hhbmdlQXZhdGFyIiwiYWRkQ2FyZFBvcHVwIiwiX3JlZjMiLCJyZW5kZXJMb2FkaW5nIiwiY3JlYXRlQ2FyZCIsIm5ld0NhcmQiLCJwcmVwZW5kIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=